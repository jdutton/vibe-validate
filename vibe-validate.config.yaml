validation:
  phases:
    - name: Pre-Qualification
      parallel: true
      steps:
        - name: TypeScript Type Check
          command: pnpm -r typecheck
        - name: ESLint Code Quality
          command: pnpm lint
        - name: Code Duplication Check
          command: npx jscpd . --threshold 2.5 --min-lines 10 --min-tokens 100 --reporters console --format "typescript,javascript" --ignore "**/*.test.ts,**/*.test.js,**/node_modules/**,**/dist/**,**/coverage/**,**/.turbo/**,**/jscpd-report/**,**/*.json,**/*.yaml,**/*.md"
    - name: Testing
      steps:
        - name: Unit Tests with Coverage
          command: pnpm test:coverage
    - name: Build
      steps:
        - name: Build All Packages
          command: pnpm -r build
git:
  mainBranch: main
hooks:
  preCommit:
    enabled: true
    secretScanning:
      enabled: false  # Disabled in containerized environment - enable in local dev
      scanCommand: "gitleaks protect --staged --verbose"
ci:
  nodeVersions:
    - '22'
    - '24'
  os:
    - ubuntu-latest
    - windows-latest
developerFeedback: true
