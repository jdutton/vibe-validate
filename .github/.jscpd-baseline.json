{
  "duplicates": [
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "function extractFailures(output: string): TestFailureInfo[] {\n  const failures: TestFailureInfo[] = [];\n  const lines = output.split('\\n');\n\n  let i = 0;\n  while (i < lines.length) {\n    const line = lines[i];\n\n    // Look for numbered failure markers (e.g., \"1) Test name\")",
      "tokens": 0,
      "firstFile": {
        "name": "packages/extractors/src/extractors/jasmine/index.ts",
        "start": 21,
        "end": 29,
        "startLoc": {
          "line": 21,
          "column": 1,
          "position": 55
        },
        "endLoc": {
          "line": 29,
          "column": 60,
          "position": 144
        }
      },
      "secondFile": {
        "name": "packages/extractors/src/extractors/mocha/index.ts",
        "start": 21,
        "end": 29,
        "startLoc": {
          "line": 21,
          "column": 1,
          "position": 55
        },
        "endLoc": {
          "line": 29,
          "column": 53,
          "position": 144
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "], 10) : 0;\n\n  // Extract all failures\n  const failures = extractFailures(output);\n\n  // Early return if no failures detected (but failure count suggested there should be)\n  if (failureCount === 0 && failures.length === 0) {\n    return processTestFailures([], 95);\n  }\n\n  // Process failures using shared utility\n  return processTestFailures(failures, 95);\n}\n\n/**\n * Detect if output is from Jasmine test framework\n *\n * @param output - Command output to analyze\n * @returns Detection result with confidence and patterns\n */",
      "tokens": 0,
      "firstFile": {
        "name": "packages/extractors/src/extractors/jasmine/index.ts",
        "start": 160,
        "end": 179,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 1104
        },
        "endLoc": {
          "line": 179,
          "column": 4,
          "position": 1194
        }
      },
      "secondFile": {
        "name": "packages/extractors/src/extractors/mocha/index.ts",
        "start": 174,
        "end": 193,
        "startLoc": {
          "line": 174,
          "column": 2,
          "position": 1084
        },
        "endLoc": {
          "line": 193,
          "column": 4,
          "position": 1174
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n          confidence: detection.confidence,\n          patterns: detection.patterns,\n          reason: detection.reason,\n        },\n        confidence: 100,\n        completeness: 100,\n        issues: [],\n      },\n    };\n  }\n\n  const errors: FormattedError[] = [];\n  let completeCount = 0;\n\n  for (const failure of failures) {\n    const file = failure.file ?? 'unknown'",
      "tokens": 0,
      "firstFile": {
        "name": "packages/extractors/src/extractors/ava/index.ts",
        "start": 164,
        "end": 180,
        "startLoc": {
          "line": 164,
          "column": 6,
          "position": 1021
        },
        "endLoc": {
          "line": 180,
          "column": 10,
          "position": 1144
        }
      },
      "secondFile": {
        "name": "packages/extractors/src/extractors/tap/index.ts",
        "start": 158,
        "end": 174,
        "startLoc": {
          "line": 158,
          "column": 6,
          "position": 988
        },
        "endLoc": {
          "line": 174,
          "column": 10,
          "position": 1111
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ",\n      confidence: detection.confidence,\n      patterns: detection.patterns,\n      reason: detection.reason,\n    },\n    confidence,\n    completeness,\n    issues: [],\n  };\n\n  return {\n    summary,\n    errors,\n    totalErrors: failures.length,\n    errorSummary: formatCleanOutput(errors),\n    guidance,\n    metadata,\n  };\n}\n\n/**\n * Extract all failures from Ava output\n * Strategy: Find detailed headers (test names with â€º), then parse each block\n */",
      "tokens": 0,
      "firstFile": {
        "name": "packages/extractors/src/extractors/ava/index.ts",
        "start": 211,
        "end": 234,
        "startLoc": {
          "line": 211,
          "column": 6,
          "position": 1417
        },
        "endLoc": {
          "line": 234,
          "column": 4,
          "position": 1518
        }
      },
      "secondFile": {
        "name": "packages/extractors/src/extractors/tap/index.ts",
        "start": 204,
        "end": 226,
        "startLoc": {
          "line": 204,
          "column": 6,
          "position": 1362
        },
        "endLoc": {
          "line": 226,
          "column": 4,
          "position": 1463
        }
      }
    },
    {
      "format": "javascript",
      "lines": 24,
      "fragment": ".forEach(spec => {\n                    const comma = sourceCode.getTokenAfter(spec);\n                    if (comma && comma.value === ',') {\n                      fixes.push(fixer.removeRange([spec.range[0], comma.range[1]]));\n                    } else {\n                      const commaBefore = sourceCode.getTokenBefore(spec);\n                      if (commaBefore && commaBefore.value === ',') {\n                        fixes.push(fixer.removeRange([commaBefore.range[0], spec.range[1]]));\n                      } else {\n                        fixes.push(fixer.remove(spec));\n                      }\n                    }\n                  });\n                }\n              }\n\n              return fixes;\n            },\n          });\n        }\n      },\n    };\n  },\n};",
      "tokens": 0,
      "firstFile": {
        "name": "tools/eslint-local-rules/no-fs-mkdirSync.cjs",
        "start": 92,
        "end": 115,
        "startLoc": {
          "line": 92,
          "column": 15,
          "position": 692
        },
        "endLoc": {
          "line": 115,
          "column": 2,
          "position": 904
        }
      },
      "secondFile": {
        "name": "tools/eslint-local-rules/no-os-tmpdir.cjs",
        "start": 89,
        "end": 112,
        "startLoc": {
          "line": 89,
          "column": 12,
          "position": 692
        },
        "endLoc": {
          "line": 112,
          "column": 2,
          "position": 904
        }
      }
    },
    {
      "format": "javascript",
      "lines": 24,
      "fragment": ".forEach(spec => {\n                    const comma = sourceCode.getTokenAfter(spec);\n                    if (comma && comma.value === ',') {\n                      fixes.push(fixer.removeRange([spec.range[0], comma.range[1]]));\n                    } else {\n                      const commaBefore = sourceCode.getTokenBefore(spec);\n                      if (commaBefore && commaBefore.value === ',') {\n                        fixes.push(fixer.removeRange([commaBefore.range[0], spec.range[1]]));\n                      } else {\n                        fixes.push(fixer.remove(spec));\n                      }\n                    }\n                  });\n                }\n              }\n\n              return fixes;\n            },\n          });\n        }\n      },\n    };\n  },\n};",
      "tokens": 0,
      "firstFile": {
        "name": "tools/eslint-local-rules/no-child-process-execSync.cjs",
        "start": 91,
        "end": 114,
        "startLoc": {
          "line": 91,
          "column": 14,
          "position": 692
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 904
        }
      },
      "secondFile": {
        "name": "tools/eslint-local-rules/no-os-tmpdir.cjs",
        "start": 89,
        "end": 112,
        "startLoc": {
          "line": 89,
          "column": 12,
          "position": 692
        },
        "endLoc": {
          "line": 112,
          "column": 2,
          "position": 904
        }
      }
    }
  ]
}